cmake_minimum_required(VERSION 3.0)

if(EXISTS ${CMAKE_SOURCE_DIR}/../external/unittest-cpp/CMakeLists.txt)
	message(STATUS "Processing unittest-cpp...")
	set(UNITTEST_CPP_FOUND ON CACHE BOOL "unitest-cpp submodule is present")
	set(UNITTEST_CPP_DIR "${CMAKE_SOURCE_DIR}/../external/unittest-cpp")
	add_subdirectory(${UNITTEST_CPP_DIR} unittest-cpp)
	message(STATUS "Processing unittest-cpp done")
else()
	message(STATUS "Submodule unittest-cpp is missing - test won't be built. Use 'git submoule update --init' to get the unittest-cpp submodule.")
	set(UNITTEST_CPP_FOUND OFF CACHE BOOL "unitest-cpp submodule is present")
endif()
